import context

import matplotlib
from matplotlib import pyplot as plt

import configs

matplotlib.use('Agg')

q_learning_time = [31.46060606060606, 28.638709677419357, 28.079754601226995, 32.40490797546012, 35.75, 31.623456790123456, 29.78, 33.88343558282209, 34.675496688741724, 31.662650602409638, 32.59090909090909, 31.84931506849315, 33.943396226415096, 40.207317073170735, 31.645569620253166, 28.662420382165607, 30.17763157894737, 30.557692307692307, 32.37820512820513, 28.68211920529801, 29.468354430379748, 29.461038961038962, 34.071005917159766, 24.833333333333332, 33.76923076923077, 34.21621621621622, 31.246987951807228, 32.205128205128204, 26.854430379746834, 34.94, 26.214285714285715, 29.303225806451614, 31.403846153846153, 32.40909090909091, 27.142857142857142, 34.3469387755102, 31.30496453900709, 33.31612903225806, 28.67132867132867, 29.90277777777778, 28.45578231292517, 27.62589928057554, 30.357142857142858, 23.618055555555557, 27.703225806451613, 23.35374149659864, 25.02857142857143, 29.472049689440993, 26.45751633986928, 26.60927152317881, 26.657342657342657, 27.333333333333332, 28.5578231292517, 25.032894736842106, 28.5, 28.888111888111887, 29.025974025974026, 26.27741935483871, 29.80666666666667, 28.19178082191781, 28.71527777777778, 28.466216216216218, 30.20408163265306, 30.03921568627451, 25.57236842105263, 29.816326530612244, 25.952380952380953, 28.682758620689654, 27.484848484848484, 31.768707482993197, 31.293333333333333, 28.34931506849315, 24.04895104895105, 27.43661971830986, 29.61744966442953, 21.21476510067114, 25.583941605839417, 33.4, 28.98125, 28.486301369863014, 32.445945945945944, 24.857142857142858, 28.877551020408163, 25.9375, 28.821428571428573, 25.985714285714284, 25.77922077922078, 24.44055944055944, 27.169014084507044, 30.151315789473685, 22.455882352941178, 26.507462686567163, 27.318181818181817, 28.6, 26.402985074626866, 26.192592592592593, 32.193333333333335, 29.90714285714286, 21.186567164179106, 27.026666666666667, 25.5, 24.543046357615893, 23.153284671532848, 22.227941176470587, 25.583941605839417, 27.69172932330827, 24.79259259259259, 21.2406015037594, 21.029850746268657, 24.115942028985508, 21.106060606060606, 22.053435114503817, 24.756756756756758, 26.227941176470587, 22.263157894736842, 21.360294117647058, 20.992424242424242, 28.455882352941178, 28.253521126760564, 22.10144927536232, 23.453237410071942, 20.51851851851852, 22.917241379310344, 28.69178082191781, 27.088607594936708, 23.492753623188406, 23.844444444444445, 21.485714285714284, 24.306569343065693, 23.81159420289855, 25.822222222222223, 26.65714285714286, 22.669014084507044, 20.074074074074073, 24.189393939393938, 22.28125, 30.120567375886523, 24.328244274809162, 20.833333333333332, 19.40875912408759, 28.546762589928058, 19.294573643410853, 23.485714285714284, 23.204379562043794, 27.29787234042553, 24.580882352941178, 22.46043165467626, 22.764705882352942, 22.3, 23.616541353383457, 25.703225806451613, 17.223140495867767, 26.166666666666668, 29.19858156028369, 21.445255474452555, 20.671755725190838, 25.072992700729927, 20.20472440944882, 21.803030303030305, 20.614814814814814, 23.605839416058394, 27.604166666666668, 17.68840579710145, 21.953846153846154, 26.37857142857143, 30.606896551724137, 20.834532374100718, 24.363636363636363, 20.924812030075188, 16.878048780487806, 24.895522388059703, 25.732824427480917, 27.748148148148147, 21.225563909774436, 19.24390243902439, 19.208955223880597, 19.113636363636363, 20.49264705882353, 20.790697674418606, 20.35433070866142, 18.338461538461537, 21.59504132231405, 19.576923076923077, 20.917293233082706, 23.607407407407408, 23.14179104477612, 21.265151515151516, 18.859375, 16.14179104477612, 18.022900763358777, 19.54032258064516, 22.984375, 20.7984496124031, 20.296, 19.708661417322833, 27.82191780821918, 23.646616541353385, 16.37704918032787, 22.075187969924812, 18.1294964028777, 20.5234375, 21.69402985074627, 22.76086956521739, 19.96212121212121, 22.82442748091603, 21.659420289855074, 18.954545454545453, 26.46875, 18.873015873015873, 19.007751937984494, 18.109375, 22.138461538461538, 17.0, 21.883211678832115, 15.472, 19.891472868217054, 21.768, 21.68702290076336, 23.913385826771652, 20.943548387096776, 14.742424242424242, 13.691056910569106, 16.653543307086615, 16.9921875, 27.42142857142857, 14.468253968253968, 18.61904761904762, 18.1640625, 16.453125, 18.3206106870229, 19.412213740458014, 17.4765625, 17.658536585365855, 19.26984126984127, 17.089430894308943, 20.97037037037037, 18.359375, 16.384, 17.528455284552845, 18.515384615384615, 15.8046875, 15.306451612903226, 17.7109375, 19.826446280991735, 14.991869918699187, 20.290076335877863, 15.626984126984127, 17.299145299145298, 18.061068702290076, 23.04032258064516, 19.550387596899224, 17.907563025210084, 16.658333333333335, 21.984615384615385, 16.60483870967742, 14.088, 17.51492537313433, 15.341269841269842, 16.51492537313433, 20.046511627906977, 21.733870967741936, 18.24390243902439, 14.214285714285714, 19.504, 16.778625954198475, 22.598360655737704, 23.723577235772357, 17.541984732824428, 17.684615384615384, 17.173228346456693, 26.1640625, 18.544, 13.793650793650794, 12.57391304347826, 12.884297520661157, 10.47787610619469, 18.048387096774192, 17.958333333333332, 20.416, 20.758064516129032, 13.422413793103448, 21.024390243902438, 17.550847457627118, 19.37984496124031, 19.671755725190838, 17.51127819548872, 18.976377952755904, 10.956896551724139, 18.134328358208954, 17.516129032258064, 13.873949579831933, 16.519685039370078, 12.445378151260504, 20.89516129032258, 14.857142857142858, 15.869565217391305, 16.706349206349206, 15.375, 17.92063492063492, 16.915384615384614]
reinforce_time = [52.26333333333333, 39.01, 43.96333333333334, 42.73666666666667, 38.67333333333333, 36.75333333333333, 40.839999999999996, 41.32, 38.300000000000004, 38.78666666666667, 39.129999999999995, 44.74, 38.56, 39.620000000000005, 38.910000000000004, 37.199999999999996, 40.33333333333333, 43.63666666666666, 39.943333333333335, 37.78666666666666, 45.77666666666667, 40.23, 45.076666666666675, 41.46666666666666, 41.56, 41.373333333333335, 44.04666666666666, 38.72333333333333, 38.973333333333336, 43.27333333333333, 39.65333333333333, 41.803333333333335, 39.32666666666666, 36.67333333333333, 35.903333333333336, 39.56666666666667, 40.23, 35.43333333333333, 39.46, 39.083333333333336, 35.46666666666667, 38.18666666666667, 37.86333333333334, 38.32333333333333, 37.93333333333333, 38.96333333333333, 38.11, 39.13, 40.23333333333334, 37.97, 40.443333333333335, 42.76666666666667, 43.423333333333325, 39.11666666666667, 41.60666666666667, 41.34, 39.20333333333334, 42.9, 39.81666666666667, 37.88333333333333, 36.550000000000004, 41.36666666666667, 36.63333333333333, 38.49, 39.473333333333336, 40.76, 40.806666666666665, 39.35333333333333, 39.0, 32.57, 35.04333333333333, 37.63333333333333, 39.70333333333334, 40.43333333333334, 35.059999999999995, 33.85666666666666, 40.11333333333334, 40.85333333333333, 36.309999999999995, 40.79, 41.14, 41.54, 37.653333333333336, 34.916666666666664, 38.67333333333334, 36.57666666666666, 32.96333333333334, 36.01, 34.35666666666666, 37.056666666666665, 31.006666666666664, 37.220000000000006, 36.97333333333333, 37.92, 42.440000000000005, 33.32, 35.13666666666666, 30.963333333333328, 43.81, 28.21666666666667, 34.76666666666666, 36.92666666666667, 39.86333333333334, 32.349999999999994, 34.85, 27.813333333333333, 33.03666666666667, 33.43, 31.5, 29.01, 32.26, 29.733333333333334, 30.816666666666666, 31.046666666666663, 31.216666666666665, 26.686666666666667, 25.996666666666666, 21.203333333333333, 23.603333333333335, 25.933333333333337, 26.72, 29.383333333333336, 29.103333333333335, 26.84, 21.23, 21.916666666666668, 19.38, 17.21666666666667, 16.776666666666667, 18.70333333333333, 21.856666666666666, 23.039999999999996, 28.736666666666668, 29.7, 31.176666666666662, 34.96666666666667, 31.689999999999998, 27.896666666666672, 19.983333333333334, 13.033333333333333, 15.67, 11.826666666666668, 12.076666666666666, 13.270000000000001, 13.33, 12.816666666666668, 15.700000000000001, 14.913333333333334, 17.459999999999997, 19.28, 19.436666666666667, 18.676666666666666, 18.066666666666666, 15.616666666666667, 11.426666666666668, 11.21, 9.35, 9.68, 11.373333333333335, 12.076666666666668, 12.64, 13.253333333333336, 13.033333333333333, 14.706666666666669, 12.99, 11.966666666666667, 9.74, 10.296666666666667, 8.186666666666666, 10.110000000000001, 9.606666666666667, 8.643333333333333, 7.8566666666666665, 9.41, 9.903333333333334, 8.86, 8.409999999999998, 10.113333333333333, 7.609999999999999, 10.456666666666665, 8.996666666666666, 8.633333333333333, 10.466666666666667, 7.28, 11.42, 10.393333333333333, 8.473333333333334, 9.523333333333333, 8.973333333333334, 7.903333333333333, 7.523333333333333, 8.296666666666667, 8.343333333333332, 8.233333333333333, 7.703333333333333, 11.36, 8.969999999999999, 9.729999999999999, 9.709999999999999, 10.653333333333334, 8.496666666666668, 8.603333333333333, 9.65, 8.873333333333333, 9.876666666666667, 9.32, 8.473333333333333, 8.96, 8.16, 9.316666666666666, 9.873333333333333, 9.273333333333333, 10.076666666666668, 9.366666666666665, 10.086666666666666, 9.076666666666666, 9.360000000000001, 9.436666666666667, 8.036666666666667, 9.686666666666666, 8.193333333333333, 9.816666666666665, 9.033333333333333, 8.893333333333334, 9.290000000000001, 10.636666666666665, 11.966666666666667, 11.516666666666666, 12.360000000000001, 8.066666666666668, 8.976666666666665, 9.843333333333334, 10.913333333333334, 8.75, 9.173333333333334, 10.39, 8.323333333333334, 8.9, 9.673333333333334, 10.643333333333333, 12.113333333333335, 10.043333333333335, 9.106666666666667, 10.593333333333332, 9.049999999999999, 8.01, 7.506666666666667, 8.19, 6.8566666666666665, 8.516666666666667, 9.786666666666667, 9.04, 9.92, 7.550000000000001, 10.209999999999999, 8.38, 9.12, 9.903333333333334, 7.3566666666666665, 9.483333333333333, 9.959999999999999, 9.98, 8.733333333333333, 10.61, 9.213333333333333, 7.933333333333333, 10.383333333333333, 8.709999999999999, 7.066666666666666, 11.266666666666666, 7.793333333333333, 8.863333333333335, 8.726666666666667, 7.25, 9.336666666666668, 8.303333333333333, 9.51, 8.023333333333333, 8.396666666666667, 9.326666666666666, 10.653333333333334, 7.96, 7.34, 7.553333333333335, 9.946666666666667, 8.86, 8.116666666666667, 8.74, 8.626666666666667, 9.813333333333333, 10.373333333333333, 8.773333333333333, 10.656666666666666, 8.44, 6.88, 9.38, 9.926666666666668, 11.346666666666666, 9.853333333333333, 8.583333333333334]
ppo_time = [38.93181818181818, 31.375, 31.268156424581004, 35.945, 33.09444444444444, 32.83798882681564, 28.962365591397848, 45.275, 34.455, 44.375, 37.86772486772487, 39.02, 32.41752577319588, 37.87, 31.854054054054053, 32.53370786516854, 31.331360946745562, 32.08108108108108, 32.98395721925134, 32.945454545454545, 35.30379746835443, 33.439490445859875, 30.379518072289155, 31.75449101796407, 34.34969325153374, 41.62658227848101, 32.83116883116883, 38.93333333333333, 31.35483870967742, 31.60989010989011, 33.339506172839506, 28.78523489932886, 32.77215189873418, 32.02614379084967, 33.21951219512195, 35.655367231638415, 31.865921787709496, 32.5668449197861, 30.425, 35.19871794871795, 29.414012738853504, 31.70175438596491, 35.21568627450981, 30.57894736842105, 28.7, 32.04117647058823, 29.60810810810811, 38.76047904191617, 29.467105263157894, 36.31764705882353, 34.95652173913044, 27.033333333333335, 37.39080459770115, 33.13291139240506, 31.754285714285714, 31.804054054054053, 35.43103448275862, 33.922077922077925, 35.28387096774193, 32.48407643312102, 33.20967741935484, 31.039473684210527, 33.05921052631579, 38.8, 32.306748466257666, 34.34640522875817, 29.778523489932887, 33.64968152866242, 32.078947368421055, 32.795918367346935, 30.49044585987261, 28.175324675324674, 34.66225165562914, 31.078787878787878, 36.345238095238095, 29.53472222222222, 32.432432432432435, 31.94871794871795, 36.063291139240505, 27.734265734265733, 25.285714285714285, 32.29677419354839, 29.46153846153846, 33.90243902439025, 32.81182795698925, 31.945121951219512, 33.88202247191011, 31.365853658536587, 33.493589743589745, 29.23076923076923, 28.438271604938272, 34.925925925925924, 32.32051282051282, 32.57051282051282, 28.896103896103895, 35.04430379746835, 32.89714285714286, 32.798816568047336, 29.629139072847682, 28.37748344370861, 29.294117647058822, 28.43243243243243, 30.933774834437084, 36.09756097560975, 26.441558441558442, 29.342105263157894, 28.757575757575758, 32.21383647798742, 33.3986013986014, 28.650602409638555, 28.1, 29.75, 36.40506329113924, 30.083333333333332, 33.56209150326797, 33.048611111111114, 33.824675324675326, 27.98701298701299, 30.62162162162162, 36.10457516339869, 29.869822485207102, 27.369426751592357, 29.384615384615383, 30.68211920529801, 34.496815286624205, 28.450617283950617, 32.71974522292994, 30.06, 25.86231884057971, 26.79136690647482, 27.225165562913908, 24.68345323741007, 28.248366013071895, 30.91616766467066, 27.81578947368421, 28.751633986928105, 25.828767123287673, 22.859375, 23.77037037037037, 19.1171875, 20.134920634920636, 22.58267716535433, 21.24390243902439, 13.51639344262295, 14.5748031496063, 14.15126050420168, 15.10344827586207, 13.391304347826088, 15.2, 9.008333333333333, 6.927272727272728, 12.608333333333333, 8.263636363636364, 12.305084745762711, 8.87719298245614, 7.633928571428571, 8.327433628318584, 6.776785714285714, 7.130841121495327, 14.868421052631579, 13.2, 16.132231404958677, 12.633928571428571, 8.089285714285714, 13.12280701754386, 9.696428571428571, 9.82882882882883, 8.8348623853211, 6.778761061946903, 9.37037037037037, 8.681818181818182, 10.256410256410257, 12.218181818181819, 12.350427350427351, 13.844036697247706, 10.716814159292035, 6.881818181818182, 6.728971962616822, 7.909090909090909, 9.08849557522124, 9.4375, 7.675675675675675, 7.284403669724771, 9.881818181818181, 8.372881355932204, 6.763636363636364, 6.151785714285714, 9.272727272727273, 14.837606837606838, 13.31858407079646, 6.909090909090909, 7.302752293577981, 7.252173913043478, 9.705357142857142, 9.81981981981982, 10.596330275229358, 8.389830508474576, 10.061946902654867, 6.918918918918919, 9.681818181818182, 14.330434782608696, 10.270491803278688, 12.051724137931034, 9.422018348623853, 10.18018018018018, 8.157407407407407, 6.527272727272727, 5.4363636363636365, 7.554545454545455, 8.236363636363636, 8.112, 8.991452991452991, 7.666666666666667, 9.473214285714286, 6.706422018348624, 8.203703703703704, 8.690909090909091, 10.157894736842104, 10.68695652173913, 14.872, 17.031496062992126, 12.73728813559322, 12.017543859649123, 11.293577981651376, 13.424778761061948, 10.932203389830509, 7.724770642201835, 8.917431192660551, 12.43859649122807, 11.75438596491228, 10.045454545454545, 7.545454545454546, 9.207207207207206, 10.327433628318584, 7.560344827586207, 8.780701754385966, 8.895238095238096, 11.403508771929825, 10.017699115044248, 8.521739130434783, 7.972222222222222, 8.136363636363637, 8.56637168141593, 7.7, 7.536363636363636, 10.0, 9.65137614678899, 10.070796460176991, 16.866666666666667, 12.266666666666667, 12.495726495726496, 16.0, 11.424778761061948, 12.863636363636363, 10.627272727272727, 8.256410256410257, 7.867924528301887, 10.879310344827585, 8.560344827586206, 7.532110091743119, 9.080357142857142, 8.65137614678899, 10.035087719298245, 7.1192660550458715, 7.256880733944954, 6.3119266055045875, 7.277777777777778, 8.831858407079647, 6.504587155963303, 9.155963302752294, 12.649122807017545, 6.105263157894737, 10.803571428571429, 7.09009009009009, 10.247863247863247, 10.339130434782609, 17.008474576271187, 21.03174603174603, 33.824675324675326, 35.325, 22.046153846153846, 17.943548387096776, 20.59090909090909, 24.795620437956206, 23.48872180451128, 17.834710743801654, 15.56910569105691, 14.243697478991596, 17.358333333333334, 21.274193548387096, 15.067226890756302, 13.756302521008404, 12.747899159663865, 13.741379310344827, 13.333333333333334, 15.40677966101695, 18.549180327868854, 8.851851851851851, 9.702702702702704, 8.069565217391304]

epochs = list(range(1, 301))

# Plotting
plt.plot(epochs, q_learning_time, label='Q-Learning')
plt.plot(epochs, reinforce_time, label='REINFORCE')
plt.plot(epochs, ppo_time, label='PPO')

# Adding labels and title
plt.xlabel('Epochs')
plt.ylabel('Average Waiting Time')
# plt.title('Average Waiting Time over Epochs for Different Methods')
plt.legend()

plt.savefig(configs.PathConfig().data / 'time.png')


